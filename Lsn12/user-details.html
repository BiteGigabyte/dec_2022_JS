<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lsn12_JS(auxiliary)</title>
</head>
<body>
<div id="auxiliary-div">

</div>

<script>
    let url2 = new URL(`${location.href}`);
    let url1 = new URL (`https://jsonplaceholder.typicode.com/users/${JSON.parse(url2.searchParams.get('id'))}`);

    let auxiliary_div = document.getElementById('auxiliary-div');

    fetch(url1)
    .then(value => value.json())
    .then(value => {
        //
                let output = function (value, block, ...rest) {
                let value_keys = Object.keys(value);
                let detailsDiv = document.createElement('div');
                if (rest.length) {
                    let headH2 = document.createElement('h2');
                    headH2.innerHTML = `<u>${rest}</u>:`;
                    detailsDiv.appendChild(headH2);
                }
                detailsDiv.className = 'detailsDiv';
                for (let i = 0; i < value_keys.length; ++i) {
                let user_h2 = document.createElement('h2');
                    user_h2.className = 'user_h2';
                if (typeof value[value_keys[i]] !== 'object')
                {
                user_h2.innerText = `${value_keys[i]}: ${value[value_keys[i]]}`;
                detailsDiv.appendChild(user_h2);
                }
                else {
                    let value0 = value[value_keys[i]];
                    output(value0, detailsDiv, value_keys[i]);
                }
                    detailsDiv.style.paddingLeft = '20px';
                    detailsDiv.style.borderLeft = '2px solid white';
                    block.appendChild(detailsDiv);
                }
                }
                //
        output(value, auxiliary_div);
    });
</script>


<style>
    body {
        background-image: url(fone2.jpg);
        background-size: cover;
        color: white;
    }
</style>


</body>
</html>